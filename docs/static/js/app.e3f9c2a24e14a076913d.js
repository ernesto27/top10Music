webpackJsonp([1],{"/Bk6":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n={render:e,staticRenderFns:i};s.a=n},"0P5q":function(t,s){},"3/Zi":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("section",{staticClass:"hero is-info is-medium is-bold",attrs:{id:"header-element"}},[a("div",{staticClass:"hero-head"},[a("nav",{staticClass:"navbar"},[a("div",{staticClass:"container"},[a("div",{staticClass:"navbar-brand"},[a("span",{staticClass:"navbar-burger burger",attrs:{"data-target":"navbarMenu"}},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])])])])]),t._v(" "),a("div",{staticClass:"hero-body"},[a("a",{attrs:{href:"/"}},[a("div",{staticClass:"container has-text-centered",staticStyle:{width:"max-content",background:"#000000",padding:"16px",opacity:"0.8"}},[a("h1",{staticClass:"title"},[t._v("\n            TOP 10 ALBUMS\n          ")]),t._v(" "),a("h2",{staticClass:"subtitle"},[t._v("\n              Selecciona tus 10 discos favoritos del 2017\n          ")])])])])])}],n={render:e,staticRenderFns:i};s.a=n},"9hI1":function(t,s,a){"use strict";s.a={props:["albums"],created:function(){console.log(this.albums)}}},AqTy:function(t,s,a){"use strict";var e=a("QmSG"),i=a.n(e),n=a("n5Qe"),r=a.n(n);s.a={props:["uuid"],data:function(){return{albums:[],username:""}},created:function(){var t=this;r.a.init(i.a.firebase),r.a.getRankingAlbumsByUser(this.uuid,function(s){t.albums=s,t.username=s[10].username})}}},KC1v:function(t,s,a){"use strict";s.a={}},M93x:function(t,s,a){"use strict";var e=a("xJD8"),i=a("/Bk6"),n=a("VU/8"),r=n(e.a,i.a,!1,null,null,null);s.a=r.exports},NHnr:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("7+uW"),i=a("M93x"),n=a("YaEn");e.a.config.productionTip=!1,new e.a({el:"#app",router:n.a,template:"<App/>",components:{App:i.a}})},PBE2:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("header-element"),t._v(" "),a("section",{staticClass:"container",staticStyle:{"margin-top":"30px"}},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-9"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input is-medium",attrs:{type:"text",placeholder:"Ingresa tu nombre"},domProps:{value:t.username},on:{input:function(s){s.target.composing||(t.username=s.target.value)}}})]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"field is-grouped"},[a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary is-medium",attrs:{disabled:t.selectedAlbums.length>=10},on:{click:t.openModal}},[t._v("\n                                Agregar disco\n                        ")])]),t._v(" "),a("p",{staticClass:"control"},[a("button",{staticClass:"button is-primary is-medium",attrs:{disabled:t.selectedAlbums.length<10||0==t.username.length},on:{click:t.saveAlbumsSelected}},[t._v("\n                            Guardar\n                        ")])])]),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticClass:"notification"},[t._v("Seleccionados: "+t._s(t.selectedAlbums.length)+" de 10")]),t._v(" "),a("div",{staticClass:"modal ",class:{"is-active":t.isOpenModal}},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head"},[a("p",{staticClass:"modal-card-title"},[t._v("Selecciona un disco")]),t._v(" "),a("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(s){t.isOpenModal=!1}}})]),t._v(" "),a("section",{staticClass:"modal-card-body"},[a("div",{staticClass:"autocomplete-input"},[a("p",{staticClass:"control has-icon has-icon-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"input is-large",attrs:{placeholder:"Search..."},domProps:{value:t.q},on:{input:function(s){s.target.composing||(t.q=s.target.value)}}})]),t._v(" "),a("ul",{staticClass:"options-list",staticStyle:{"margin-top":"2px"}},t._l(t.results,function(s){return a("li",{staticClass:"highlighted",on:{click:function(a){t.selectAlbum(s)}}},[a("article",{staticClass:"media"},[a("figure",{staticClass:"media-left"},[a("p",{staticClass:"image is-64x64"},[a("img",{attrs:{src:s.thumb}})])]),t._v(" "),a("p",[a("strong",[t._v(t._s(s.title))]),t._v(" "),a("br")])])])}))])]),t._v(" "),a("footer",{staticClass:"modal-card-foot"},[a("button",{staticClass:"button is-success",attrs:{disabled:t.isDisabled},on:{click:t.addAlbumToRanking}},[t._v("Guardar")]),t._v(" "),a("button",{staticClass:"button",on:{click:function(s){t.isOpenModal=!1}}},[t._v("Cancel")])])])]),t._v(" "),a("div",[a("br"),t._v(" "),a("p",{staticClass:"title is-4"},[t._v("My ranking")]),t._v(" "),a("br"),t._v(" "),a("ranking-list",{attrs:{albums:t.selectedAlbums}})],1)]),t._v(" "),a("div",{staticClass:"modal",class:{"is-active":t.isRankingSaved}},[a("div",{staticClass:"modal-background"}),t._v(" "),a("div",{staticClass:"modal-content"},[a("article",{staticClass:"message is-success"},[a("div",{staticClass:"message-body"},[a("p",{staticClass:"title is-3"},[t._v("Ranking guardado exitosamente!")]),t._v(" "),a("p",[a("a",{attrs:{href:t.rankingURL}},[t._v("Ver ranking")])])])])]),t._v(" "),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"}})]),t._v(" "),a("div",{staticClass:"column is-3"},[a("ranking-users-list",{attrs:{usersRanking:t.usersRanking}})],1)])])],1)},i=[],n={render:e,staticRenderFns:i};s.a=n},PvdB:function(t,s,a){"use strict";var e=a("9hI1"),i=a("hOg3"),n=a("VU/8"),r=n(e.a,i.a,!1,null,null,null);s.a=r.exports},QmSG:function(t,s){t.exports={discogs:{endpoint:"https://api.discogs.com/database/search",key:"CqxjBdycyAtyPcujhrDo",secret:"TMnbpRilxEtsesiQklgRaAZDRiOAeBqO",year:"2017",format:"album"},firebase:{apiKey:"AIzaSyDOZ3zV2IQclzq3UhIC1jRXDe-WO8CBpO4",authDomain:"thisismyappphp.firebaseapp.com",databaseURL:"https://thisismyappphp.firebaseio.com",projectId:"thisismyappphp",storageBucket:"",messagingSenderId:"12538899018"}}},Uhku:function(t,s,a){"use strict";var e=a("mtWM"),i=a.n(e),n=a("QmSG"),r=a.n(n),l=a("n5Qe"),c=a.n(l);s.a={name:"main",data:function(){return{username:"",q:"",results:[],isLoading:!1,isOpenModal:!1,isDisabled:!0,isAlbumSelected:!1,isRankingSaved:!1,currentAlbumSelected:null,selectedAlbums:[],rankingKey:null,usersRanking:[]}},created:function(){c.a.init(r.a.firebase);var t=this;c.a.getUsersRanking(function(s){s.forEach(function(s){var a=s.val();console.log(s.key),t.usersRanking.push({username:a[10].username,url:"/#/ranking/"+s.key})})})},methods:{getResults:function(){var t=this;if(t.isLoading)return!1;t.isLoading=!0,i.a.get(r.a.discogs.endpoint+"?q="+this.q+"&year="+r.a.discogs.year+"&format="+r.a.discogs.format+"&key="+r.a.discogs.key+"&secret="+r.a.discogs.secret+"&per_page=5").then(function(s){var a=[],e=[];s.data.results.forEach(function(t){console.log(t.title);for(var s=!1,i=0;i<=a.length;i++)if(a[i]==t.title){s=!0;break}s||(a.push(t.title),e.push(t))}),t.results=e,t.isLoading=!1})},openModal:function(){this.q="",this.isOpenModal=!0},selectAlbum:function(t){console.log(t),this.q=t.title,this.isDisabled=!1,this.currentAlbumSelected=t},addAlbumToRanking:function(){console.log("go to save album "),this.selectedAlbums.push(this.currentAlbumSelected),this.isOpenModal=!1},saveAlbumsSelected:function(){this.selectedAlbums.push({username:this.username}),this.rankingKey=c.a.saveAlbumsSelected(this.selectedAlbums),this.isRankingSaved=!0,this.username="",this.selectedAlbums=[]}},watch:{q:function(t,s){if(t.length<s.length&&(this.isDisabled=!0),t.length<3)return this.results=[],!1;this.getResults()}},computed:{rankingURL:function(){return"/#/ranking/"+this.rankingKey}}}},VJIs:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("p",{staticClass:"is-size-3"},[t._v("Rankings generados")]),t._v(" "),a("ul",t._l(t.usersRanking,function(s){return a("li",[a("a",{attrs:{href:s.url}},[t._v(t._s(s.username))])])}))])},i=[],n={render:e,staticRenderFns:i};s.a=n},VRZO:function(t,s,a){"use strict";var e=a("hc7S"),i=a("VJIs"),n=a("VU/8"),r=n(e.a,i.a,!1,null,null,null);s.a=r.exports},YP75:function(t,s){},YaEn:function(t,s,a){"use strict";var e=a("7+uW"),i=a("/ocq"),n=a("s6+2"),r=a("wc4s"),l=a("gfg6"),c=a("PvdB"),o=a("VRZO");e.a.use(i.a),e.a.component("headerElement",l.a),e.a.component("RankingList",c.a),e.a.component("RankingUsersList",o.a),s.a=new i.a({routes:[{path:"/",name:"main",component:n.a},{path:"/ranking/:uuid",name:"ranking",component:r.a,props:!0}]})},gfg6:function(t,s,a){"use strict";function e(t){a("0P5q")}var i=a("KC1v"),n=a("3/Zi"),r=a("VU/8"),l=e,c=r(i.a,n.a,!1,l,null,null);s.a=c.exports},hOg3:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",t._l(t.albums,function(s,e){return a("div",{staticClass:"box"},[e<10?a("article",{staticClass:"media"},[a("span",{staticClass:"tag is-info is-rounded is-medium",staticStyle:{"margin-right":"6px"}},[t._v(t._s(e+1))]),t._v(" "),a("div",{staticClass:"media-left"},[a("figure",{staticClass:"image is-64x64"},[a("img",{attrs:{src:s.thumb,alt:"Image"}})])]),t._v(" "),a("div",{staticClass:"media-content"},[a("div",{staticClass:"content"},[a("p",[a("strong",[t._v(t._s(s.title))]),t._v(" "),a("br"),t._v("\n              "+t._s(s.year)+"\n            ")])])])]):t._e()])}))},i=[],n={render:e,staticRenderFns:i};s.a=n},hc7S:function(t,s,a){"use strict";s.a={props:["usersRanking"]}},n5Qe:function(t,s){var a={database:null,firebase:null,init:function(t){this.firebase||(this.firebase=firebase.initializeApp(t)),this.database=this.firebase.database()},saveAlbumsSelected:function(t){return this.database.ref().child("albums").push(t).getKey()},getRankingAlbumsByUser:function(t,s){this.database.ref("/albums/"+t).once("value").then(function(t){s(t.val())})},getUsersRanking:function(t){this.database.ref("/albums").once("value").then(function(s){console.log(s),t(s)})}};t.exports=a},"s6+2":function(t,s,a){"use strict";function e(t){a("YP75")}var i=a("Uhku"),n=a("PBE2"),r=a("VU/8"),l=e,c=r(i.a,n.a,!1,l,null,null);s.a=c.exports},wc4s:function(t,s,a){"use strict";var e=a("AqTy"),i=a("z0ev"),n=a("VU/8"),r=n(e.a,i.a,!1,null,null,null);s.a=r.exports},xJD8:function(t,s,a){"use strict";s.a={name:"app"}},z0ev:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",[a("header-element"),t._v(" "),a("section",{staticClass:"container",staticStyle:{"margin-top":"30px"}},[a("div",[t.username?t._e():a("p",{staticStyle:{"text-align":"center"}},[a("img",{attrs:{src:"static/ajax-loader.gif"}})]),t._v(" "),t.username?a("p",{staticClass:"title is-4"},[t._v("Ranking 2017 de "+t._s(t.username))]):t._e(),t._v(" "),a("ranking-list",{attrs:{albums:t.albums}})],1)])],1)},i=[],n={render:e,staticRenderFns:i};s.a=n}},["NHnr"]);
//# sourceMappingURL=app.e3f9c2a24e14a076913d.js.map